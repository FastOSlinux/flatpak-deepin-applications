{
  "app-id": "com.deepin.VoiceRecorder",
  "runtime": "com.deepin.Platform",
  "runtime-version": "15.5.2",
  "sdk": "com.deepin.Sdk",
  "command": "deepin-voice-recorder",
  "separate-locales": false,
  "branch": "master",
  "tags": [
    "proprietary"
  ],
  "rename-desktop-file": "deepin-voice-recorder.desktop",
  "rename-icon": "deepin-voice-recorder",
  "finish-args": [
    "--share=ipc",
    "--socket=x11",
    "--socket=pulseaudio",
    "--share=network",
    "--device=dri",
    "--filesystem=home",
    "--own-name=com.deepin.SingleInstance.deepin-voice-recorder"
  ],
  "modules": [
    "org.ffmpeg.FFmpeg.json",
    {
      "name": "gstreamer",
      "config-opts": [
        "--disable-static",
        "--disable-gtk-doc"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://gstreamer.freedesktop.org/src/gstreamer/gstreamer-1.12.3.tar.xz",
          "sha256": "d388f492440897f02b01eebb033ca2d41078a3d85c0eddc030cdea5a337a216e"
        }
      ]
    },
    {
      "name": "gst-plugins-base",
      "config-opts": [
        "--disable-static",
        "--disable-gtk-doc"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://gstreamer.freedesktop.org/src/gst-plugins-base/gst-plugins-base-1.12.3.tar.xz",
          "sha256": "d3d37b8489d37fa0018973d850bd2067b98af335fef2fa543ee7d40359e3cea5"
        }
      ]
    },
    {
      "name": "gst-plugins-good",
      "config-opts": [
        "--disable-static",
        "--disable-gtk-doc"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://gstreamer.freedesktop.org/src/gst-plugins-good/gst-plugins-good-1.12.3.tar.xz",
          "sha256": "13e7f479296891fef5a686438f20ba7d534680becf2269ecc5ee24aa83b45f03"
        }
      ]
    },
    {
      "name": "deepin-voice-recorder",
      "no-autogen": true,
      "sources": [
        {
          "type": "git",
          "url": "https://cr.deepin.io/deepin-voice-recorder",
          "branch": "master"
        },
        {
          "type": "script",
          "commands": [
            "sed -i 's|/usr|/app|g' deepin-voice-recorder.pro",
            "qmake PREFIX=/app"
          ],
          "dest-filename": "configure"
        }
      ]
    }
  ]
}
